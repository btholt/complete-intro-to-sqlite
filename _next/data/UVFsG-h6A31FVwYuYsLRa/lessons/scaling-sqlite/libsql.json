{"pageProps":{"post":{"attributes":{"title":"libSQL"},"html":"<h2>What is libSQL and why fork SQLite?</h2>\n<p><a href=\"https://turso.tech/libsql\">libSQL</a> bills itself as &quot;SQLite for modern applications&quot;. It is a fork of the SQLite codebase that <a href=\"https://turso.tech/\">Turso</a> made to make its SQLite offering in the cloud. <a href=\"https://www.sqlite.org/copyright.html\">SQLite is open source but not open contribution</a> which makes it hard if you want to take SQLite and extend it further (as the Turso folks found.) In the end they decided to fork SQLite and make their own version on top of it. <a href=\"https://turso.tech/libsql-manifesto\">The publish a manifesto</a> which is a good read if you&#39;re curious.</p>\n<p>libSQL is the same in terms all of your SQLite queries will work as-is and many of the extensions you would expect to work do. They&#39;ve committed to make the delta between the two as low as possible.</p>\n<p>Where libSQL differs is a few things:</p>\n<ul>\n<li>libSQL works as a server, more similar to Postgres and MySQL. We&#39;ll talk about that in the next section.</li>\n<li>Due to it working more as a server, it has a <a href=\"https://github.com/tursodatabase/libsql/blob/main/docs/USER_GUIDE.md\">user management system</a>.</li>\n<li>libSQL works over HTTP which means you&#39;ll need a different client to work with it. Luckily Turso maintains a few <a href=\"https://github.com/tursodatabase/libsql-js\">including a JavaScript one</a>.</li>\n<li>Because it works as a server, it&#39;s easy to expose it to the Internet so you can have remote servers.</li>\n<li>They allow you to do more standard <a href=\"https://github.com/tursodatabase/libsql/blob/main/libsql-sqlite3/doc/libsql_extensions.md#altering-columns\">ALTER TABLE</a> actions.</li>\n<li>A few other things and always adding more. They do aim to be the modern SQLite database.</li>\n</ul>\n<h2>sqld</h2>\n<p>So let&#39;s try it. <a href=\"https://github.com/tursodatabase/libsql/blob/main/docs/BUILD-RUN.md#build-and-run-sqld\">Install sqld</a> first. Then run it with <code>sqld</code>. This will start a sqld server on localhost:8080.</p>\n<p>Now we can start running queries against its HTTP API. I use <a href=\"https://www.usebruno.com/\">Bruno</a> for API requests but Postman or Insomnia are just fine. From here we need to see our sqld server with Chinook. I took the liberty or writing a Postman collection for this</p>\n<ul>\n<li><a href=\"/sqld-collection.json\">Click here</a> for a Postman-compatible collection of API requests (both Insomnia and Bruno can use Postman-style collections too.)</li>\n<li><a href=\"/chinook-sqld.json\">Click here</a> for just the JSON used to query the API.</li>\n</ul>\n<p>Run the query to add all the rows to the database. Once you&#39;ve done that, <a href=\"https://github.com/btholt/sqlite-app-libsql\">clone this repo</a>, run <code>npm install</code>, and <code>npm run dev</code> to get the app and running. Now we have our same app running on libSQL and sqld!</p>\n<ul>\n<li>We just used the <a href=\"https://github.com/libsql/libsql-node-sqlite3\">libsql sqlite3</a> driver here. It&#39;s a drop-in replacement which means we didn&#39;t have to rewrite any code, just change the URL.</li>\n<li>There is a better SDK, <a href=\"https://github.com/tursodatabase/libsql-js\">the official libSQL JS SDK</a>. This one is closer to better-sqlite3 and has promises built-in.</li>\n<li>Beyond that, we&#39;re 100% the same app!</li>\n</ul>\n","markdown":"\n## What is libSQL and why fork SQLite?\n\n[libSQL][libsql] bills itself as \"SQLite for modern applications\". It is a fork of the SQLite codebase that [Turso][turso] made to make its SQLite offering in the cloud. [SQLite is open source but not open contribution][oss] which makes it hard if you want to take SQLite and extend it further (as the Turso folks found.) In the end they decided to fork SQLite and make their own version on top of it. [The publish a manifesto][manifesto] which is a good read if you're curious.\n\nlibSQL is the same in terms all of your SQLite queries will work as-is and many of the extensions you would expect to work do. They've committed to make the delta between the two as low as possible.\n\nWhere libSQL differs is a few things:\n\n- libSQL works as a server, more similar to Postgres and MySQL. We'll talk about that in the next section.\n- Due to it working more as a server, it has a [user management system][user].\n- libSQL works over HTTP which means you'll need a different client to work with it. Luckily Turso maintains a few [including a JavaScript one][js].\n- Because it works as a server, it's easy to expose it to the Internet so you can have remote servers.\n- They allow you to do more standard [ALTER TABLE][alter] actions.\n- A few other things and always adding more. They do aim to be the modern SQLite database.\n\n## sqld\n\nSo let's try it. [Install sqld][sqld] first. Then run it with `sqld`. This will start a sqld server on localhost:8080.\n\nNow we can start running queries against its HTTP API. I use [Bruno][bruno] for API requests but Postman or Insomnia are just fine. From here we need to see our sqld server with Chinook. I took the liberty or writing a Postman collection for this\n\n- [Click here][postman] for a Postman-compatible collection of API requests (both Insomnia and Bruno can use Postman-style collections too.)\n- [Click here][query] for just the JSON used to query the API.\n\nRun the query to add all the rows to the database. Once you've done that, [clone this repo][repo], run `npm install`, and `npm run dev` to get the app and running. Now we have our same app running on libSQL and sqld!\n\n- We just used the [libsql sqlite3][sqlite3] driver here. It's a drop-in replacement which means we didn't have to rewrite any code, just change the URL.\n- There is a better SDK, [the official libSQL JS SDK][sdk]. This one is closer to better-sqlite3 and has promises built-in.\n- Beyond that, we're 100% the same app!\n\n[libsql]: https://turso.tech/libsql\n[oss]: https://www.sqlite.org/copyright.html\n[manifesto]: https://turso.tech/libsql-manifesto\n[js]: https://github.com/tursodatabase/libsql-js\n[alter]: https://github.com/tursodatabase/libsql/blob/main/libsql-sqlite3/doc/libsql_extensions.md#altering-columns\n[sqld]: https://github.com/tursodatabase/libsql/blob/main/docs/BUILD-RUN.md#build-and-run-sqld\n[user]: https://github.com/tursodatabase/libsql/blob/main/docs/USER_GUIDE.md\n[bruno]: https://www.usebruno.com/\n[query]: /chinook-sqld.json\n[postman]: /sqld-collection.json\n[repo]: https://github.com/btholt/sqlite-app-libsql\n[sqlite3]: https://github.com/libsql/libsql-node-sqlite3\n[sdk]: https://github.com/tursodatabase/libsql-js\n[turso]: https://turso.tech/\n","slug":"libsql","title":"libSQL","section":"Scaling SQLite","icon":"server","filePath":"/home/runner/work/complete-intro-to-sqlite/complete-intro-to-sqlite/lessons/09-scaling-sqlite/C-libsql.md","nextSlug":"/lessons/scaling-sqlite/local-first","prevSlug":"/lessons/scaling-sqlite/replication"}},"__N_SSG":true}