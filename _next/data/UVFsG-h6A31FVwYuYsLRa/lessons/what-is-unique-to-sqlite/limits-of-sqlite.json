{"pageProps":{"post":{"attributes":{"title":"Limits of SQLite"},"html":"<p>SQLite has unique limits in what it can and can&#39;t do. Nearly all of them are overly generous and you should <em>never</em> hit their ceiling and if you do, you are doing something wrong.</p>\n<h2>Row size</h2>\n<p>Max length of text: 1GB</p>\n<p>Each row can be a 1 GB of size. If you&#39;re reaching anything remotely close to this, you need a different storage strategy, probably using something like <a href=\"https://aws.amazon.com/s3/\">S3</a> to store large object and then store the metadata using SQLite.</p>\n<h2>Columns on a table</h2>\n<p>Max amount of columns on a table: 2,000 (and up to 32,000) columns</p>\n<p>You can have 2,000 columns on a table but man, you can probably architect your data differently if you have 2,000 columns. A JSON column could help a lot or just move to a document based database like MongoDB.</p>\n<p>If you want to, you can recompile SQLite yourself and remove the limit and have up to 32,767 columns but please, please do not do that.</p>\n<h2>Length of SQL query</h2>\n<p>Max length of a SQL query, 1,000,000,000 characters</p>\n<p>Look, if you can write a query that long, I&#39;m just in awe. At that point you&#39;re just coding your whole app as SQL.</p>\n<h2>Tables in a join</h2>\n<p>Max number of tables in a join: 64 tables</p>\n<p>This actually feels like one you <em>could</em> hit though it&#39;d be weird. SQLite uses 8 bytes to do its lookup table for joins and therefore it has a hard limit of 64 tables that it can reference. If you have a query doing 64 joins, you can rearchitect your data to not need so many joins or just do two queries.</p>\n<h2>Length of LIKE terms</h2>\n<p>Max length of LIKE globs: 50,000 characters</p>\n<p>Write &quot;globs&quot; (or the terms you give to LIKE) can have some perfomance implications if they&#39;re too long so they limt these to 50,000 characters. Still seems plenty long but good advice here is to limit how long of term users can give to SQLite so not to slow down your database.</p>\n<h2>Attached databases</h2>\n<p>Max number of attached database: 10 databases</p>\n<p>We haven&#39;t done this, but what if you have two database files and want to query them like one database? SQLite lets you with ATTACH. This does make it hard to do things like have an IoT database per device and to address with ATTACH as it will only support 10. You&#39;re better off using some sort of data ingestion pipeline to something like BigQuery or Snowflake and then querying that.</p>\n<h2>Size of database / rows in a database</h2>\n<ul>\n<li>Size of a database: 281TB</li>\n<li>Rows in a database: 1.8e+19 rows (theoretically)</li>\n<li>Rows in a database: 2e+13 rows (effectively)</li>\n</ul>\n<p>In theory the database can grow to 281TB of data (which is effectively unlimited for all but the biggest problems in data.) Likewise with number of rows. The database systems can support 2^64 rows but in practice that isn&#39;t possible becauase with the smallest amount of data possible you&#39;ll run out of space around 2e+13 rows. Or, in other words, more than enough.</p>\n<p>To read through more of the limits, <a href=\"https://www.sqlite.org/limits.html\">check here</a>. I just wanted to go through these with you to demonstrate that SQLite can scale its data capabilities as much as you can. It is powerful enough to tackle just about any problem.</p>\n","markdown":"\nSQLite has unique limits in what it can and can't do. Nearly all of them are overly generous and you should _never_ hit their ceiling and if you do, you are doing something wrong.\n\n## Row size\n\nMax length of text: 1GB\n\nEach row can be a 1 GB of size. If you're reaching anything remotely close to this, you need a different storage strategy, probably using something like [S3][s3] to store large object and then store the metadata using SQLite.\n\n## Columns on a table\n\nMax amount of columns on a table: 2,000 (and up to 32,000) columns\n\nYou can have 2,000 columns on a table but man, you can probably architect your data differently if you have 2,000 columns. A JSON column could help a lot or just move to a document based database like MongoDB.\n\nIf you want to, you can recompile SQLite yourself and remove the limit and have up to 32,767 columns but please, please do not do that.\n\n## Length of SQL query\n\nMax length of a SQL query, 1,000,000,000 characters\n\nLook, if you can write a query that long, I'm just in awe. At that point you're just coding your whole app as SQL.\n\n## Tables in a join\n\nMax number of tables in a join: 64 tables\n\nThis actually feels like one you _could_ hit though it'd be weird. SQLite uses 8 bytes to do its lookup table for joins and therefore it has a hard limit of 64 tables that it can reference. If you have a query doing 64 joins, you can rearchitect your data to not need so many joins or just do two queries.\n\n## Length of LIKE terms\n\nMax length of LIKE globs: 50,000 characters\n\nWrite \"globs\" (or the terms you give to LIKE) can have some perfomance implications if they're too long so they limt these to 50,000 characters. Still seems plenty long but good advice here is to limit how long of term users can give to SQLite so not to slow down your database.\n\n## Attached databases\n\nMax number of attached database: 10 databases\n\nWe haven't done this, but what if you have two database files and want to query them like one database? SQLite lets you with ATTACH. This does make it hard to do things like have an IoT database per device and to address with ATTACH as it will only support 10. You're better off using some sort of data ingestion pipeline to something like BigQuery or Snowflake and then querying that.\n\n## Size of database / rows in a database\n\n- Size of a database: 281TB\n- Rows in a database: 1.8e+19 rows (theoretically)\n- Rows in a database: 2e+13 rows (effectively)\n\nIn theory the database can grow to 281TB of data (which is effectively unlimited for all but the biggest problems in data.) Likewise with number of rows. The database systems can support 2^64 rows but in practice that isn't possible becauase with the smallest amount of data possible you'll run out of space around 2e+13 rows. Or, in other words, more than enough.\n\nTo read through more of the limits, [check here][limits]. I just wanted to go through these with you to demonstrate that SQLite can scale its data capabilities as much as you can. It is powerful enough to tackle just about any problem.\n\n[limits]: https://www.sqlite.org/limits.html\n[s3]: https://aws.amazon.com/s3/\n","slug":"limits-of-sqlite","title":"Limits of SQLite","section":"What is Unique to SQLite","icon":"fingerprint","filePath":"/home/runner/work/complete-intro-to-sqlite/complete-intro-to-sqlite/lessons/06-what-is-unique-to-sqlite/B-limits-of-sqlite.md","nextSlug":"/lessons/what-is-unique-to-sqlite/views","prevSlug":"/lessons/what-is-unique-to-sqlite/flexible-typing"}},"__N_SSG":true}